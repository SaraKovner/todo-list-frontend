<div class="container">
  <div *ngIf="isLoading" class="loading">
    טוען משימה...
  </div>
  
  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>
  
  <div *ngIf="task && !isLoading">
    <div class="back-button-section">
      <button (click)="goBack()" class="btn-peach">חזרה למשימות</button>
    </div>
    
    <div class="task-detail">
      <div class="task-header">
        <h1>{{ task.title }}</h1>
        <div class="header-right">
          <span class="status" [class.completed]="task.isCompleted" [class.in-progress]="!task.isCompleted">
            {{ task.isCompleted ? '✓ הושלמה' : 'בתהליך' }}
          </span>
          <span class="category-tag" [style.background-color]="(task.category | categoryStyle).backgroundColor">
            {{ (task.category | categoryStyle).icon }} {{ (task.category | categoryStyle).name }}
          </span>
        </div>
      </div>
      
      <div class="task-content">
        <div class="description-section">
          <h3>תיאור המשימה:</h3>
          <p class="description">{{ task.description }}</p>
        </div>
      </div>
      
      <div class="task-actions">
        <button (click)="editTask()" *ngIf="!task.isCompleted" title="עריכת משימה">
          <img src="edit-2.svg" alt="עריכה" width="20" height="20">
        </button>
        <button (click)="toggleComplete()" *ngIf="!task.isCompleted" title="סימון כהושלמה">✓</button>
        <button (click)="deleteTask()" title="מחיקת משימה">
          <img src="trash-2.svg" alt="מחיקה" width="20" height="20">
        </button>
      </div>
    </div>
  </div>
  
  <div *ngIf="errorMessage" class="back-button-section">
    <button (click)="goBack()" class="btn-peach">← חזור לרשימה</button>
  </div>
</div>